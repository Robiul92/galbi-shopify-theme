<div data-section-id="{{ section.id }}" data-section-type="section-instagram-v4" style="{% if section.settings.margin_top != blank %}margin-top: {{section.settings.margin_top}}px;{%endif%} {% if section.settings.margin_bottom != blank %}margin-bottom: {{section.settings.margin_bottom}}px;{% endif %}">
<div class="section-instagram-v4">
  {% assign instafeed_img = '{{image}}' %}
  {% assign instafeed_link = '{{link}}' %}

  {% if section.settings.ins_userid != blank and section.settings.ins_access_token != blank %}
  <script>
    jQuery(document).ready(function($) {
      var feed = new Instafeed({
        get: 'user',
        userId: '{{section.settings.ins_userid}}',
        accessToken: '{{section.settings.ins_access_token}}',
        template: '<div class="padding-slick"> <div class="content box-img1"> <a href="{{instafeed_link}}" class="delay03 inline-block" target="_blank"><img src="{{instafeed_img}}" class="img-fluid">  </div> </a></div>',
        target: 'engoj_section_instagram_v2',
        resolution: 'standard_resolution',
        limit: '{{section.settings.ins_limit_number}}',
        after: engo_insv2
      });
      feed.run();

      function engo_insv2() {
        $('.js-instagram').slick({
          arrows: true,
          dots: false,
          infinite: false,
          autoplay: false,
          slidesToShow: 4,
          slidesToScroll: 1,
          prevArrow: '<button type="button" class="slick-brand-prev fa fa-angle-left"></button>',
          nextArrow: '<button type="button" class="slick-brand-next fa fa-angle-right"></button>',
          responsive: [
            {
              breakpoint: 1200,
              settings: {
                slidesToShow: 4,
              }
            },
            {
              breakpoint: 1024,
              settings: {
                slidesToShow: 3,
              }
            },
            {
              breakpoint: 600,
              settings: {
                slidesToShow: 2,
              }
            }
          ]
        });
      }
    });
  </script>
  {% else %}
  <script>
    jQuery(document).ready(function($) {
      function engo_insv2() {
        $('.js-instagram').slick({
          arrows: true,
          dots: false,
          infinite: false,
          autoplay: false,
          slidesToShow: 4,
          slidesToScroll: 1,
          prevArrow: '<button type="button" class="slick-brand-prev fa fa-angle-left"></button>',
          nextArrow: '<button type="button" class="slick-brand-next fa fa-angle-right"></button>',
          responsive: [
            {
              breakpoint: 1200,
              settings: {
                slidesToShow: 4
              }
            },
            {
              breakpoint: 1024,
              settings: {
                slidesToShow: 3
              }
            },
            {
              breakpoint: 600,
              settings: {
                slidesToShow: 2
              }
            }
          ]
        });
      }
      engo_insv2();
    });
  </script>
  {% endif %}

  <div class="instagram_nga_h6">
    <div class="container container-v2">
      <div class="text-center text_top">

        <span class="d-block titleicon">

          <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
               width="52.625px" height="53.042px" viewBox="0 0 52.625 53.042" enable-background="new 0 0 52.625 53.042" xml:space="preserve">
            <g>
              <path d="M46.215,52.62H6.405c-3.39,0-6.147-2.758-6.147-6.148V6.574c0-3.392,2.758-6.152,6.147-6.152h39.81
                       c3.393,0,6.152,2.76,6.152,6.152v39.897C52.367,49.862,49.607,52.62,46.215,52.62z M6.405,2.531c-2.227,0-4.038,1.813-4.038,4.043
                       v39.897c0,2.228,1.812,4.039,4.038,4.039h39.81c2.229,0,4.043-1.812,4.043-4.039V6.574c0-2.229-1.813-4.043-4.043-4.043H6.405z"/>
            </g>
            <g>
              <g>
                <path d="M26.186,40.759c-7.563,0-13.716-6.153-13.716-13.716c0-7.56,6.153-13.711,13.716-13.711
                         c7.561,0,13.711,6.151,13.711,13.711C39.896,34.605,33.746,40.759,26.186,40.759z M26.186,15.441
                         c-6.4,0-11.606,5.204-11.606,11.602c0,6.4,5.207,11.606,11.606,11.606c6.397,0,11.602-5.206,11.602-11.606
                         C37.787,20.646,32.583,15.441,26.186,15.441z"/>
              </g>
            </g>
            <g>
              <g>
                <path d="M41.752,15.744c-2.337,0-4.238-1.899-4.238-4.233c0-2.337,1.901-4.238,4.238-4.238c2.334,0,4.232,1.901,4.232,4.238
                         C45.984,13.845,44.086,15.744,41.752,15.744z M41.752,9.382c-1.174,0-2.129,0.955-2.129,2.129c0,1.171,0.955,2.124,2.129,2.124
                         c1.171,0,2.123-0.953,2.123-2.124C43.875,10.337,42.923,9.382,41.752,9.382z"/>
              </g>
            </g>
          </svg>

        </span>
       
        {% if section.settings.title_content != blank %}
        <h3 class="title_insta">{{section.settings.title_content}}</h3>
        {% endif %}
        {% if section.settings.des != blank %}
        <p class="des_insta text-center mb-0">{{section.settings.des}}</p>
		{% endif %}
      </div>

      <div class="row js-instagram list-intagram" id="engoj_section_instagram_v2">  

        {% if section.settings.ins_userid == blank or section.settings.ins_access_token == blank %}
        {% if shop.permanent_domain == "calfia-store-demo.myshopify.com" %}
        {% for i in (1..section.settings.ins_limit_number) %}
        <div class="padding-slick">
          <div class="content box-img1">
            <a href="https://www.instagram.com/" class="delay03 inline-block" target="_blank">
              <img src="{{ 'intagram' | append: i | append: '.jpg' | file_img_url: 'master' }}" class="img-fluid" alt="instagram" />
            </a>
          </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="padding-slick">
          <div class="content box-img1">
           
            
              <a href="https://www.instagram.com/" class="delay03 inline-block" target="_blank">  {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}</a>
            
          </div>
        </div>
        {% endif %}
        {% endif %}
      </div>

    </div>
  </div>
  </div>
</div>
{% schema %}
{
  "name": "Instagram v4",
  "settings": [
    {
      "type": "header",
      "content": "Instagram title"
    },
    {
      "type": "text",
      "id": "title_content",
      "label": "Title",
      "default": "Shop INSTAGRAM"
    },
    {
      "type": "textarea",
      "id": "des",
      "label": "Description",
      "default": "News & updates from CalfiaStore. No spam, we promise."
    },
    {
      "type": "text",
      "id": "ins_userid",
      "label": "User ID Instagram",
      "default": "3672948962"
    },
    {
      "type": "text",
      "id": "ins_access_token",
      "label": "Access Token Instagram",
      "default": "3672948962.0f64772.430edb7f711e4665b59777c54d1ed9ce"
    },
    {
      "type": "text",
      "id": "ins_limit_number",
      "label": "Limit Image",
      "default": "6"
    },
    {
      "type": "header",
      "content": "Section Space"
    },
    {
      "type": "text",
      "id": "margin_top",
      "label": "Margin Top",
      "info": "Defined in pixels. Do not add the 'px' unit."
    },
    {
      "type": "text",
      "id": "margin_bottom",
      "label": "Margin Bottom",
      "info": "Defined in pixels. Do not add the 'px' unit."
    }
  ],
  "presets": [
    {
      "name": "Instagram v4",
      "category": "HOME 6"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}

